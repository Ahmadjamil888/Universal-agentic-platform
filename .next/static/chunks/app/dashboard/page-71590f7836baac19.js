(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{5616:function(e,s,t){Promise.resolve().then(t.bind(t,1720))},1720:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var a=t(7437),l=t(2265),r=t(5452),n=t(9376),i=t(8387),c=t(2869),d=t(6070),x=t(9397),o=t(1239),m=t(8420),h=t(2222),u=t(4401),f=t(6221),p=t(5805),j=t(7648);function y(){let[e,s]=(0,l.useState)(null),[t,y]=(0,l.useState)({activeAgents:0,workflows:0,tasksCompleted:0,timeSaved:0}),g=(0,n.useRouter)(),N=(0,r.createClientComponentClient)();return(0,l.useEffect)(()=>{(async()=>{let{data:{user:e}}=await N.auth.getUser();if(!e){g.push("/auth/login");return}s(e);let{data:t}=await N.from("organization_members").select("organization_id, role").eq("user_id",e.id).single();if(t){let s=t.organization_id,a="owner"===t.role||"admin"===t.role,l=N.from("agents").select("id",{count:"exact"}).eq("organization_id",s),r=N.from("workflows").select("id",{count:"exact"}).eq("organization_id",s);if(!a){let{data:t}=await N.from("department_members").select("department_id").eq("user_id",e.id);if(t&&t.length>0){let e=t.map(e=>e.department_id);l=N.from("agent_department_associations").select("agent_id",{count:"exact"}).in("department_id",e),r=r.eq("organization_id",s)}}let[n,i]=await Promise.all([l,r]);y({activeAgents:n.count||0,workflows:i.count||0,tasksCompleted:1247,timeSaved:42})}})()},[g,N]),(0,a.jsx)(i.Z,{children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Welcome back! Here's what's happening with your AI agents."})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsx)(j.default,{href:"/agents/create",children:(0,a.jsxs)(c.z,{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Create Agent"})]})}),(0,a.jsx)(j.default,{href:"/workflows/create",children:(0,a.jsxs)(c.z,{variant:"outline",className:"flex items-center space-x-2",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"New Workflow"})]})}),(0,a.jsx)(j.default,{href:"/departments/create",children:(0,a.jsxs)(c.z,{variant:"outline",className:"flex items-center space-x-2",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Add Department"})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(d.ll,{className:"text-sm font-medium",children:"Active Agents"}),(0,a.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(d.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t.activeAgents}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"+2 from last month"})]})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(d.ll,{className:"text-sm font-medium",children:"Workflows"}),(0,a.jsx)(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(d.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t.workflows}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"+4 from last month"})]})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(d.ll,{className:"text-sm font-medium",children:"Tasks Completed"}),(0,a.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(d.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t.tasksCompleted}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"+18% from last month"})]})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(d.ll,{className:"text-sm font-medium",children:"Time Saved"}),(0,a.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(d.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[t.timeSaved,"h"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{children:[(0,a.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Recent Activity"})]}),(0,a.jsx)(d.SZ,{children:"Latest actions from your AI agents"})]}),(0,a.jsxs)(d.aY,{children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"h-2 w-2 bg-green-500 rounded-full mt-2"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm",children:"Customer Support Bot resolved 5 tickets"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"2 minutes ago"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"h-2 w-2 bg-blue-500 rounded-full mt-2"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm",children:"Email Processor categorized 23 emails"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"15 minutes ago"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"h-2 w-2 bg-purple-500 rounded-full mt-2"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm",children:'New workflow "Lead Qualification" created'}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"1 hour ago"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"h-2 w-2 bg-orange-500 rounded-full mt-2"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm",children:"Data Analyzer completed monthly report"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"3 hours ago"})]})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(j.default,{href:"/analytics",children:(0,a.jsx)(c.z,{variant:"outline",className:"w-full",children:"View All Analytics"})})})]})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{children:[(0,a.jsx)(d.ll,{children:"Quick Start Guide"}),(0,a.jsx)(d.SZ,{children:"Get the most out of your AI platform"})]}),(0,a.jsx)(d.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[(0,a.jsx)("div",{className:"h-8 w-8 bg-primary/10 rounded-lg flex items-center justify-center",children:(0,a.jsx)(h.Z,{className:"h-4 w-4 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium",children:"Create Your First Agent"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Set up an AI agent for your department"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[(0,a.jsx)("div",{className:"h-8 w-8 bg-primary/10 rounded-lg flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"h-4 w-4 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium",children:"Build Workflows"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Automate processes with AI workflows"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[(0,a.jsx)("div",{className:"h-8 w-8 bg-primary/10 rounded-lg flex items-center justify-center",children:(0,a.jsx)(p.Z,{className:"h-4 w-4 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium",children:"Manage Team Access"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Control who can access what"})]})]})]})})]})]})]})})}},4401:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},6221:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},2222:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},8420:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},875:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},407:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},8293:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},9397:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8728:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5805:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2489:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1239:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},7648:function(e,s,t){"use strict";t.d(s,{default:function(){return l.a}});var a=t(2972),l=t.n(a)}},function(e){e.O(0,[284,523,972,672,971,117,744],function(){return e(e.s=5616)}),_N_E=e.O()}]);